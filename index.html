<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Japanese Word Listening Quiz</title>

  <style>
    body {
      font-family: "Hiragino Kaku Gothic Pro", "Meiryo", sans-serif;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding:40px;
      color:#333;
      text-align:center;
    }

    h1 {
      color:#b23b3b;
      font-size:2em;
      margin-bottom:20px;
    }

    button {
      font-size:18px;
      padding:12px 24px;
      margin:10px;
      border-radius:12px;
      cursor:pointer;
      transition:.3s;
    }

    #playSound {
      background:#fff;
      color:#b23b3b;
      border:3px solid #b23b3b;
    }

    #playSound:hover {
      background:#ffe6f2;
    }

    .choice {
      background:#b23b3b;
      color:#fff;
      border:2px solid #b23b3b;
      padding:10px 18px;
      margin:6px;
      border-radius:10px;
    }

    .choice:hover {
      background:#ff4da6;
    }

    #choices {
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      max-width:720px;
    }

    #result {
      font-size:20px;
      margin-top:18px;
      font-weight:600;
    }

    .meta {
      font-size:0.9rem;
      color:#666;
      margin-top:8px;
    }

    /* ===== End screen ===== */
    #endScreen {
      display:none;
      margin-top:30px;
      padding:30px 40px;
      border-radius:20px;
      background:linear-gradient(135deg,#ffe6f2,#fff);
      box-shadow:0 12px 30px rgba(0,0,0,.15);
      animation:fadeIn .6s ease;
    }

    #endScreen h2 {
      color:#b23b3b;
      font-size:1.8em;
    }

    #restartQuiz {
      background:#b23b3b;
      color:#fff;
      border:none;
    }

    #restartQuiz:hover {
      background:#ff4da6;
    }

    @keyframes fadeIn {
      from {opacity:0; transform:translateY(10px);}
      to {opacity:1; transform:translateY(0);}
    }
  </style>
</head>

<body>

<h1>üéß Japanese Word Listening Quiz</h1>
<button id="playSound">‚ñ∂Ô∏è Play Sound</button>

<div id="choices"></div>
<div id="result"></div>
<div class="meta">Listen and choose the correct hiragana.</div>

<!-- ===== End screen ===== -->
<div id="endScreen">
  <h2>üéâ Quiz Complete!</h2>
  <p id="finalScore"></p>
  <button id="restartQuiz">üîÅ Restart</button>
</div>

<!-- ===== AUDIO (examples) ===== -->
<audio id="mado" src="audio/mado.mp3"></audio>
<audio id="machi" src="audio/machi.mp3"></audio>
<audio id="mame" src="audio/mame.mp3">
  <!-- ma-row safe additions -->
<audio id="mikanbako" src="audio/mikanbako.mp3"></audio>
  <audio id="mushi" src="audio/mushi.mp3"></audio>
<audio id="mashita" src="audio/mashita.mp3"></audio>


<audio id="mitame" src="audio/mitame.mp3"></audio>
<audio id="michi" src="audio/michi.mp3"></audio>

<audio id="mukau" src="audio/mukau.mp3"></audio>
<audio id="mushiatsui" src="audio/mushiatsui.mp3"></audio>

<audio id="mekiki" src="audio/mekiki.mp3"></audio>
<audio id="mamonaku" src="audio/mamonaku.mp3"></audio>
<audio id="motsu" src="audio/motsu.mp3"></audio>
<audio id="momiji" src="audio/momiji.mp3"></audio>

</audio>
<audio id="mizu" src="audio/mizu.mp3"></audio>
<audio id="mimi" src="audio/mimi.mp3"></audio>
<audio id="manzoku" src="audio/manzoku.mp3"></audio>
<audio id="megane" src="audio/megane.mp3"></audio>
<audio id="momo" src="audio/momo.mp3"></audio>
  <audio id="mune" src="audio/mune.mp3"></audio>
<audio id="mainichi" src="audio/mainichi.mp3"></audio>
 <audio id="mainichishinbun" src="audio/mainichishinbun.mp3"></audio>
<audio id="mikan" src="audio/mikan.mp3"></audio>
<audio id="mikata" src="audio/mikata.mp3"></audio>
<audio id="manabu" src="audio/manabu.mp3"></audio>
<audio id="matsu" src="audio/matsu.mp3"></audio>
<audio id="madoi" src="audio/madoi.mp3"></audio>
<audio id="minna" src="audio/minna.mp3"></audio>
<audio id="mushi" src="audio/mushi.mp3"></audio>
<audio id="musuko" src="audio/musuko.mp3"></audio>
<audio id="meishi" src="audio/meishi.mp3"></audio>
<audio id="meshi" src="audio/meshi.mp3"></audio>
<audio id="hachimitsu" src="audio/hachimitsu.mp3"></audio>
<script>
let currentQuestion = null;
let questionCount = 0;
let score = 0;
const maxQuestions = 30;

const quizQuestions = [
    { q:"mado", options:["„Åæ„Å©","„Åæ„Å®","„Åæ„Åì","„Åæ„Å©„Éº"], correct:"„Åæ„Å©" },
  { q:"machi", options:["„Åæ„Å°","„Åæ„Åó","„Åæ„Åò","„Åæ„Åç"], correct:"„Åæ„Å°" },
  { q:"mushi", options:["„ÇÄ„Åó","„ÇÄ„Åò","„ÇÄ„Å°","„ÇÄ„Å≤"], correct:"„ÇÄ„Åó" },
  { q:"mame", options:["„Åæ„ÇÅ","„Åæ„Å≠","„Åæ„Åø","„Åæ„Å∏"], correct:"„Åæ„ÇÅ" },
  { q:"mizu", options:["„Åø„Åö","„Åø„Å§","„Åø„Å•","„Åø„Åô"], correct:"„Åø„Åö" },
  { q:"mimi", options:["„Åø„Åø","„Åø„Å´","„Åø„ÇÅ","„Åø„Å≥"], correct:"„Åø„Åø" },

  { q:"manzoku", options:["„Åæ„Çì„Åû„Åè","„Åæ„Çì„Åù„Åè","„Åæ„Çì„Åû„ÅÜ","„Åæ„Çì„Åû"], correct:"„Åæ„Çì„Åû„Åè" },
  { q:"megane", options:["„ÇÅ„Åå„Å≠","„ÇÅ„Åã„Å≠","„ÇÅ„Åå„Å´","„ÇÅ„Åå„Å≠„Éº"], correct:"„ÇÅ„Åå„Å≠" },
  { q:"momo", options:["„ÇÇ„ÇÇ","„ÇÇ„ÅÆ","„ÇÇ„Åª","„ÇÇ„ÇÇ„Éº"], correct:"„ÇÇ„ÇÇ" },
  { q:"mainichi", options:["„Åæ„ÅÑ„Å´„Å°","„Åæ„ÅÑ„Å≥","„Åæ„ÅÑ„Åò„Å°","„Åæ„ÅÑ„Å´"], correct:"„Åæ„ÅÑ„Å´„Å°" },
  { q:"mainichishinbun", options: ["„Åæ„ÅÑ„Åó„Å°„Å°„Çì„Å∂„Çì","„Åæ„ÅÑ„Åì„Å°„Åó„ÇÄ„Å∂„ÇÄ","„Åæ„ÅÑ„Å´„Å°„Åó„ÇÄ„Å∂„Çì","„Åæ„ÅÑ„Å´„Å°„Åó„Çì„Å∂„Çì"], correct:"„Åæ„ÅÑ„Å´„Å°„Åó„Çì„Å∂„Çì" },
   
    /* „Åæ-row (strict rules) */
  { q:"mikanbako", options:["„Åø„Åã„Çì„Å∞„Åì","„Åø„Åã„Çì„ÅØ„Åì","„Åø„Åã„Çì„Å∞„Åî","„Åø„Åã„Å∞„Åì"], correct:"„Åø„Åã„Çì„Å∞„Åì" },
  { q:"mashita", options:["„Åæ„Åó„Åü","„Åæ„Å≤„Åü","„Åæ„Å°„Åü","„Åæ„Åó„Å†"], correct:"„Åæ„Åó„Åü" },

  { q:"mitame", options:["„Åø„Åü„ÇÅ","„Åø„Åü„Å≠","„Åø„Å†„ÇÅ","„Åø„Åü„Å∏"], correct:"„Åø„Åü„ÇÅ" },
  
  { q:"mune", options:["„ÇÄ„Å≠","„ÇÄ„ÇÅ","„ÇÄ„Å¶","„ÇÄ„Å∏"], correct:"„ÇÄ„Å≠" },
  { q:"michi", options:["„Åø„Å°","„Åø„Åó","„Åø„Åò","„Åø„Åç"], correct:"„Åø„Å°" },

  { q:"mukau", options:["„ÇÄ„Åã„ÅÜ","„ÇÄ„Åå„ÅÜ","„ÇÄ„Åã„Åä","„ÇÄ„Åì„ÅÜ"], correct:"„ÇÄ„Åã„ÅÜ" },
  { q:"mushiatsui", options:["„ÇÄ„Åó„ÅÇ„Å§„ÅÑ","„ÇÄ„Åó„ÅÇ„Å•„ÅÑ","„ÇÄ„Åó„ÅÇ„Å§„Åà","„ÇÄ„Åó„ÅÇ„Å°„ÅÑ"], correct:"„ÇÄ„Åó„ÅÇ„Å§„ÅÑ" },

  { q:"mekiki", options:["„ÇÅ„Åç„Åç","„ÇÅ„Åé„Åç","„ÇÅ„Åç„Åé","„ÇÅ„Åó„Åç"], correct:"„ÇÅ„Åç„Åç" },
  

  { q:"momiji", options:["„ÇÇ„Åø„Åò","„ÇÇ„Åø„Å´","„ÇÇ„Åø„Å°","„ÇÇ„Å≤„Åò"], correct:"„ÇÇ„Åø„Åò" },
  { q:"mamonaku", options:["„Åæ„ÇÇ„Å™„Åè","„Åæ„ÇÇ„Å™„Åê","„Åæ„ÇÇ„Å™„Åì","„Åæ„ÅÆ„Å™„Åè"], correct:"„Åæ„ÇÇ„Å™„Åè" },


  /* no „Çâ-row */
  { q:"mikan", options:["„Åø„Åã„Çì","„Åø„Åì„Çì","„Åø„Åå„Çì","„Åø„Åã"], correct:"„Åø„Åã„Çì" },
  { q:"mikata", options:["„Åø„Åã„Åü","„Åø„Åå„Åü","„Åø„Åã„Å†","„Åø„Åã„Å™"], correct:"„Åø„Åã„Åü" },
{ q:"hachimitsu", options:["„ÅØ„Åó„Åø„Å§","„Å∞„Å°„Åø„Å§","„ÅØ„Å°„Åø„Å§","„ÅØ„Å°„Åø„Å•"], correct:"„ÅØ„Å°„Åø„Å§" },
  /* more */
  { q:"manabu", options:["„Åæ„Å™„Å∂","„Åæ„Å™„Çì","„Åæ„Å≠„Å∂","„Åæ„Å¨„Å∂"], correct:"„Åæ„Å™„Å∂" },
  { q:"matsu", options:["„Åæ„Å§","„Åæ„Å•","„Åæ„Å°","„ÇÇ„Å§"], correct:"„Åæ„Å§" },
  { q:"motsu", options:["„Åæ„Å§","„Åæ„Å•","„Åæ„Å°","„ÇÇ„Å§"], correct:"„ÇÇ„Å§" },
  { q:"madoi", options:["„Åæ„Å©„ÅÑ","„Åæ„Å®„ÅÑ","„Åæ„Å©„Åà","„Åæ„Å©„Åó"], correct:"„Åæ„Å©„ÅÑ" },
  { q:"minna", options:["„Åø„Çì„Å™","„Åø„Å™","„Åø„Çì„ÅÇ","„Åø„Çì„Çâ"], correct:"„Åø„Çì„Å™" },
  { q:"mushi", options:["„ÇÄ„Åó","„ÇÄ„Åò","„ÇÄ„Å°","„ÇÄ„Å≤"], correct:"„ÇÄ„Åó" },
  { q:"musuko", options:["„ÇÄ„Åô„Åì","„ÇÄ„Åó„Åì","„ÇÄ„Åù„Åì","„ÇÄ„Åô„Åî"], correct:"„ÇÄ„Åô„Åì" },
  { q:"meishi", options:["„ÇÅ„ÅÑ„Åó","„ÇÅ„Åó","„ÇÅ„Åò","„ÇÅ„Åà„Åó"], correct:"„ÇÅ„ÅÑ„Åó" },
  { q:"meshi", options:["„ÇÅ„Åó","„ÇÅ„ÅÑ„Åó","„ÇÅ„Åò","„ÇÅ„Å∏"], correct:"„ÇÅ„Åó" },
 
];

function newQuestion() {
  if (questionCount >= maxQuestions) {
    document.getElementById("choices").innerHTML = "";
    document.getElementById("playSound").style.display = "none";

    document.getElementById("finalScore").textContent =
      `Your score: ${score} / ${maxQuestions}`;

    document.getElementById("endScreen").style.display = "block";
    return;
  }

  questionCount++;
  currentQuestion = quizQuestions[Math.floor(Math.random() * quizQuestions.length)];

  const choicesDiv = document.getElementById("choices");
  choicesDiv.innerHTML = "";

  currentQuestion.options
    .sort(() => Math.random() - 0.5)
    .forEach(option => {
      const btn = document.createElement("button");
      btn.className = "choice";
      btn.textContent = option;
      btn.onclick = () => checkAnswer(option);
      choicesDiv.appendChild(btn);
    });

  document.getElementById("result").textContent =
    `Q ${questionCount} / ${maxQuestions}`;
}

function playCurrentSound() {
  if (!currentQuestion) return;
  const audio = document.getElementById(currentQuestion.q);
  if (audio) {
    audio.currentTime = 0;
    audio.play();
  }
}

function checkAnswer(answer) {
  const result = document.getElementById("result");

  if (answer === currentQuestion.correct) {
    score++;
    result.textContent = "‚úÖ Correct!";
    result.style.color = "#28a745";
  } else {
    result.textContent = `‚ùå ${currentQuestion.correct}`;
    result.style.color = "#d63384";
  }

  setTimeout(newQuestion, 900);
}

document.getElementById("playSound").addEventListener("click", playCurrentSound);

document.getElementById("restartQuiz").addEventListener("click", () => {
  questionCount = 0;
  score = 0;
  document.getElementById("endScreen").style.display = "none";
  document.getElementById("playSound").style.display = "inline-block";
  newQuestion();
});

newQuestion();
</script>

</body>
</html>
